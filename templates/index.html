{% extends "base.html" %}
{% block content %}
    <div class="flex h-dvh w-full flex-col items-center justify-center gap-4">
        <div class="uk-card mt-4 h-1/3 w-4/5">
            <div class="uk-card-header uk-text-center">
                <div class="uk-card-title uk-text-background">Queue</div>
            </div>
            <div class="uk-card-body uk-overflow-auto h-3/4 gap-2">
                <div hx-ext="ws" ws-connect="/ws">
                    <div id="queue" hx-get="/queue" hx-trigger="load" hx-swap="outerHTML"></div>
                </div>
            </div>
        </div>
        <div class="uk-card mt-4 w-4/5">
            <div class="uk-card-header uk-text-center">
                <div class="uk-card-title uk-text-background">Games</div>
            </div>
            <div class="uk-card-body flex flex-col items-center gap-2">
                <!-- These are the game buttons/modals -->
                {% for game in games %}
                    {% include "comp/game_modal.html" %}
                {% endfor %}
            </div>
        </div>
        <input type="text"
               id="searchbar"
               name="search"
               placeholder="Search.."
               class="uk-input w-4/6" />
        <button type="submit"
                id="goto"
                class="uk-button uk-button-primary w-4/6"
                onclick="goTo()"
                onsubmit="goTo()">Search</button>
    </div>
    <script>
  document
    .getElementById("searchbar")
    .addEventListener("keyup", function (event) {
      if (event.key === "Enter") {
        goTo();
      }
    });

  function goTo() {
    var result = document.getElementById("searchbar").value;
    window.location.href = "/search?search=" + result;
  }
    </script>
{% endblock %}
